
<div>
  <%= flash[:notice] %>
</div>


<p id="notice"></p>
<div class = "container">
  <div class="row">


<% if @book.errors.any? %>
  <h2><%= @book.errors.count %>errors prohibited this obj from being saved:</h2>
  <ul>
    <% @book.errors.full_messages.each do |message| %>
      <li><%= message %></li>
    <% end %>
  </ul>
<% end %>



<%= render 'book', user: @user, book: @book %>


<div class="col-md-8 offset-md-1">
  <h2>Books</h2>


  <table class="table">
  <thead>
    <tr>
      <th class="header1"> </th>
      <th class="header2">Title</th>
      <th class="header3">Opinion</th>
    </tr>
  </thead>
  <tbody>
    <% @books.each do |book| %>
    <tr>
      <td>
        <%= link_to user_path(book.user_id) do %>
          <%= image_tag book.user.get_profile_image(100,100) %>
        <% end %>
      </td>
      <td><%= link_to book_path(book.id) do %>
          <%= book.title %>
          <% end %>
      </td>
      <td><%= book.body %></td>
    </tr>
    <% end %>
  </tbody>
  </table>
</div>
</div>
</div>

